(this.webpackJsonpfyle=this.webpackJsonpfyle||[]).push([[0],{20:function(e,t,a){e.exports=a(49)},25:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(3),l=a.n(c),u=(a(25),a(6)),i=a(4),o=a(2),s=a(7);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var b=[{value:"MUMBAI",label:"MUMBAI"},{value:"PUNE",label:"PUNE"},{value:"BANGALORE",label:"BANGALORE"},{value:"CHENNAI",label:"CHENNAI"}],m=function(e){var t=e.setData,a=Object(n.useState)({value:"MUMBAI",label:"MUMBAI"}),c=Object(o.a)(a,2),l=c[0],u=c[1];return Object(n.useEffect)((function(){t((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{city:l.value})}))}),[l]),r.a.createElement(s.a,{value:l,onChange:u,options:b})};a(28);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var v=function(e,t){for(var a=[],n=0;n<t.length;n++){Object.values(t[n]).filter((function(t){return(""+t).toUpperCase().includes(e.toUpperCase())})).length&&a.push(t[n])}return a},p=function(e){var t=e.bankDetails,a=e.setData,c=Object(n.useState)(""),l=Object(o.a)(c,2),u=l[0],s=l[1];Object(n.useEffect)((function(){a((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{searchResult:v(u,t)})}))}),[u]);return r.a.createElement("div",null,r.a.createElement("input",{value:u,className:"searchBox",onChange:function(e){var t=e.target.value;s(t)}}))},O=(a(29),a(19)),E=a.n(O),g=(a(47),function(e){var t=e.selectedBank,a=e.handleView;return r.a.createElement("div",{className:"mt100"},r.a.createElement("div",{className:"textCenter"},"Bank Details"),Object.entries(t).map((function(e){return r.a.createElement("div",{className:"details"},r.a.createElement("div",{className:"mx1"},r.a.createElement("strong",null,e[0])),r.a.createElement("div",{className:"mx1"},e[1]))})),r.a.createElement("div",{className:"buttonCenter"},r.a.createElement("button",{class:"btn default",onClick:function(){return a(1)}},"Back")))});function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var j=[{value:"5",label:"5"},{value:"10",label:"10"},{value:"15",label:"15"},{value:"20",label:"20"},{value:"25",label:"25"}],w={currentPage:1,lowerBound:0,upperBound:10,pageSize:10},k=function(e){var t=e.handleSelectedBank,a=e.setView,n=e.fav,c=e.view,l=e.data,i=e.loading,o=e.searchResult,s=void 0===o?[]:o,f=e.pagination,b=void 0===f?{}:f,m=e.setData,d=function(e,t,a){a.stopPropagation(),m(1===t?function(t){return y({},t,{fav:Object(u.a)(new Set([].concat(Object(u.a)(t.fav),[e])))})}:function(t){return y({},t,{fav:[].concat(Object(u.a)(t.fav.slice(0,t.fav.findIndex((function(t){return t.ifsc===e.ifsc})))),Object(u.a)(t.fav.slice(t.fav.findIndex((function(t){return t.ifsc===e.ifsc}))+1)))})})},v=function(e){a(3),t(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{overflowX:"auto"}},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Add Fav"),r.a.createElement("th",null,"ifsc"),r.a.createElement("th",null,"bank_id"),r.a.createElement("th",null,"branch"),r.a.createElement("th",null,"address"),r.a.createElement("th",null,"city"),r.a.createElement("th",null,"district"),r.a.createElement("th",null,"state"),r.a.createElement("th",null,"bank_name")),i?r.a.createElement("div",null,"Loading"):function(e){for(var t=[],a=b.lowerBound;a<Math.min(e.length,b.upperBound);a++){if(!e[a].ifsc)return null;t.push(r.a.createElement("tr",{className:"cursor",key:e[a].ifsc,onClick:v.bind(null,e[a])},r.a.createElement("td",{onClick:d.bind(null,e[a],c)},1===c?"Add":"Remove"),r.a.createElement("td",null,e[a].ifsc),r.a.createElement("td",null,e[a].bank_id),r.a.createElement("td",null,e[a].branch),r.a.createElement("td",null,e[a].address),r.a.createElement("td",null,e[a].city),r.a.createElement("td",null,e[a].district),r.a.createElement("td",null,e[a].state),r.a.createElement("td",null,e[a].bank_name)))}return t}(2===c?n:s.length?s:l)))))},S=function(e){var t=e.dataLength,a=e.setPagination,c=e.pageSize,l=Object(n.useState)({value:"10",label:"10"}),u=Object(o.a)(l,2),i=u[0],f=u[1];Object(n.useEffect)((function(){a((function(e){return y({},e,{pageSize:Number(i.value),upperBound:Number(i.value),currentPage:1,lowerBound:0})}))}),[i]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"my-2"},r.a.createElement("div",null,"Select Page Size"),r.a.createElement(s.a,{value:i,onChange:f,options:j})),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"scrolls",onClick:function(e){var t=e.target;t&&t.dataset&&t.dataset.count&&a((function(e){return y({},e,{upperBound:Number(t.dataset.count)*c,lowerBound:(Number(t.dataset.count)-1)*c,currentPage:Number(t.dataset.count)})}))}},function(e){for(var t=0,a=[];t<e/c;)t++,a.push(r.a.createElement("div",{key:t,className:"child","data-count":t},t));return a}(t))))},P=function(){var e=Object(n.useState)({city:null,bankDetails:[],searchResult:[],pageSize:10,fav:[]}),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(w),u=Object(o.a)(l,2),i=u[0],s=u[1],f=Object(n.useState)(1),b=Object(o.a)(f,2),d=b[0],v=b[1],O=Object(n.useState)(!1),h=Object(o.a)(O,2),j=h[0],P=h[1],N=Object(n.useState)({}),B=Object(o.a)(N,2),D=B[0],C=B[1],I=Object(n.useRef)(!0);Object(n.useEffect)((function(){I.current?I.current=!1:localStorage.setItem("fylefavBanks",JSON.stringify(a.fav))}),[a.fav]),Object(n.useEffect)((function(){c((function(e){return y({},e,{fav:JSON.parse(localStorage.getItem("fylefavBanks")||"[]")})}))}),[]),Object(n.useEffect)((function(){a.city&&(s(w),localStorage.getItem("fyle".concat(a.city))?c((function(e){return y({},e,{bankDetails:JSON.parse(localStorage.getItem("fyle".concat(a.city))),searchResult:[]})})):(P(!0),E.a.get("https://vast-shore-74260.herokuapp.com/banks?city=".concat(a.city)).then((function(e){var t=e.data,n=void 0===t?[]:t;P(!1),localStorage.setItem("fyle".concat(a.city),JSON.stringify(n)),c((function(e){return y({},e,{bankDetails:n,searchResult:[]})}))})).catch((function(e){P(!1),console.warn({err:e})}))))}),[a.city]);var A=function(e){v(e)};return 3===d?r.a.createElement(g,{handleView:A,selectedBank:D}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{className:1===d?"tabs tab-active":"tabs",onClick:A.bind(null,1)},"Banks"),r.a.createElement("div",{className:2===d?"tabs tab-active":"tabs",onClick:A.bind(null,2)},"Fav Banks")),r.a.createElement(r.a.Fragment,null,1===d&&r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(m,{setData:c})),r.a.createElement("div",{style:{width:"70%"}},r.a.createElement(p,{bankDetails:a.bankDetails,setData:c}))),r.a.createElement(k,{handleSelectedBank:C,setView:v,setData:c,pagination:i,fav:a.fav,view:d,searchResult:a.searchResult,data:a.bankDetails,loading:j}),1===d&&r.a.createElement(S,{pageSize:i.pageSize,setPagination:s,dataLength:a.searchResult.length||a.bankDetails.length})))};a(48);var N=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(P,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[20,1,2]]]);
//# sourceMappingURL=main.6943fd71.chunk.js.map